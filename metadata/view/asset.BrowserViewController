{
    "type": "Ext.app.ViewController",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userAlias": "assetbrowser",
        "designer|userClassName": "asset.BrowserViewController"
    },
    "designerId": "e8d0a8a6-d78a-40c8-89cf-d55048961c19",
    "cn": [
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "type"
                ],
                "fn": "reconfigureGrid",
                "implHandler": [
                    "var view = this.getView();",
                    "var grid = view.down('grid');",
                    "var columns = [];",
                    "",
                    "if (type == 1 || type == 2) {",
                    "",
                    "    columns = [",
                    "        {",
                    "             xtype: 'datecolumn',",
                    "             dataIndex: 'updatedate',",
                    "             text: 'Updated'",
                    "        },",
                    "        {",
                    "            xtype: 'gridcolumn',",
                    "            dataIndex: 'title',",
                    "            text: 'Title',",
                    "            flex: 1",
                    "        },",
                    "        {",
                    "            xtype: 'gridcolumn',",
                    "            width: 90,",
                    "            dataIndex: 'assettype',",
                    "            text: 'Type'",
                    "        },",
                    "        {",
                    "            xtype: 'gridcolumn',",
                    "            dataIndex: 'updateuser',",
                    "            text: 'Updated By'",
                    "        }",
                    "",
                    "    ];",
                    "",
                    "} else {",
                    "",
                    "    columns = [",
                    "        {",
                    "             xtype: 'datecolumn',",
                    "             dataIndex: 'updatedate',",
                    "             text: 'Updated'",
                    "        },",
                    "        {",
                    "            xtype: 'datecolumn',",
                    "            dataIndex: 'datedue',",
                    "            text: 'Date Due'",
                    "        },",
                    "        {",
                    "            xtype: 'gridcolumn',",
                    "            dataIndex: 'title',",
                    "            text: 'Title',",
                    "            flex: 1",
                    "        },",
                    "        {",
                    "            xtype: 'gridcolumn',",
                    "            dataIndex: 'clientname',",
                    "            text: 'Prospect / Client',",
                    "            flex: 1",
                    "        },",
                    "        {",
                    "            xtype: 'gridcolumn',",
                    "            dataIndex: 'updateuser',",
                    "            text: 'Updated By'",
                    "        }",
                    "    ];",
                    "",
                    "",
                    "}",
                    "",
                    "columns.push(",
                    "{",
                    "    xtype: 'actioncolumn',",
                    "    width: 60,",
                    "    menuDisabled: true,",
                    "    items: [",
                    "        {",
                    "            handler: 'onViewAsset',",
                    "            icon: 'resources/images/view.png',",
                    "            tooltip: 'View'",
                    "        },",
                    "        {",
                    "            handler: 'onEditAsset',",
                    "            icon: 'resources/images/document_edit.png',",
                    "            tooltip: 'Edit'",
                    "        },",
                    "        {",
                    "            handler: 'onDownloadAsset',",
                    "            icon: 'http://webapps.figleaf.com/PatientChart/resources/images/download.png',",
                    "            tooltip: 'Download'",
                    "        }",
                    "    ]",
                    "}",
                    "",
                    ");",
                    "",
                    "",
                    "",
                    "grid.reconfigure(grid.getStore(),columns);"
                ]
            },
            "name": "reconfigureGrid",
            "designerId": "b2e904af-2e45-4f0f-ad25-a01c6d520aec"
        }
    ]
}